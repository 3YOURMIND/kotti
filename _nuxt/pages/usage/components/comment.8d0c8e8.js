(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1025:function(t,e,n){"use strict";n.r(e);n(273),n(507),n(171),n(219),n(271);var r=n(77),o=n(161),l=n(0),d=n(884),c=n.n(d),m=n(715);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(l.defineComponent)({name:"DocumentationPageUsageComponentsComment",components:{ComponentInfo:m.a},setup:function(){var t=Object(l.ref)([{createdAt:"2018-03-21 09:49",id:1,isDeletable:!0,isEditable:!0,isInternal:!0,message:"We miss you, David",replies:[{createdAt:"2018-03-21 09:57",id:2,isDeletable:!1,isEditable:!1,isInternal:!0,message:"Join Bright Side Now!<br/>Join Bright Side Now!",user:{avatar:"https://picsum.photos/100",id:13,name:"Benni"}},{createdAt:"2018-03-21 10:05",id:3,isDeletable:!1,isEditable:!0,isInternal:!0,isModified:!0,message:"RE: Your trip to Montreal",user:{avatar:"https://picsum.photos/120",id:2,name:"Cooky"}},{createdAt:"2018-03-21 10:06",id:4,isDeletable:!0,isEditable:!1,isInternal:!0,message:"PS: Bring a jacket!",user:{avatar:"https://picsum.photos/120",id:2,name:"Cooky"}}],user:{avatar:"https://picsum.photos/200",id:12,name:"Margaret"}},{createdAt:"2018-03-23 11:20",id:5,isDeletable:!0,isEditable:!0,message:"BBQ tonite?",replies:[{createdAt:"2018-03-23 11:43",id:6,isDeletable:!0,isEditable:!0,message:"I'm in!",user:{avatar:"https://picsum.photos/210",id:9,name:"Janis"}}],user:{avatar:"https://picsum.photos/230",id:6,name:"Lemmy"}}]),e=Object(l.ref)({avatar:"https://picsum.photos/10",id:3,name:"James"}),n=Object(l.ref)({allowInternal:!0,dataTest:null,isReadOnly:!1,locale:"en-US",placeholder:"Add a comment",tabIndex:null}),r=function(t){var n=t.isInternal,r=t.message;return{createdAt:(new Date).toDateString(),id:Math.floor(101*Math.random()),isDeletable:!0,isEditable:!0,isInternal:n,message:r,replies:[],user:e.value}},d=function(t){return function(e){return e.id===t.id?f(f({},e),{},{isModified:!0,isInternal:t.isInternal,message:t.message}):e}};return{comments:t,component:o.a,currentUser:e,dangerouslyOverrideParser:function(t){return c()(t)},handleAdd:function(e){if(e.parentId){var n=t.value.find((function(t){return t.id===e.parentId}));if(!n)throw new Error("Comment not found, comment id: ".concat(e.parentId));n.replies.push(r({isInternal:e.isInternal,message:e.message}))}else t.value.push(r({isInternal:e.isInternal,message:e.message}))},handleEdit:function(e){if(e.parentId){var n=t.value.find((function(t){return t.id===e.parentId}));if(!n)throw new Error("Comment not found, comment id: ".concat(e.parentId));if(!n.replies.find((function(t){return t.id===e.id})))throw new Error("Comment not found, comment id: ".concat(e.id));n.replies=n.replies.map(d(e))}else{if(!t.value.find((function(t){return t.id===e.id})))throw new Error("Comment not found, comment id: ".concat(e.id));t.value=t.value.map(d(e))}},handleDelete:function(e){if(e.parentId){var n=t.value.find((function(t){return t.id===e.parentId}));if(!n)throw new Error("Comment not found, comment id: ".concat(e.parentId));if(!n.replies.find((function(t){return t.id===e.id})))throw new Error("Comment not found, comment id: ".concat(e.id));n.replies=n.replies.filter((function(t){return t.id!==e.id}))}else{if(!t.value.find((function(t){return t.id===e.id})))throw new Error("Comment not found, comment id: ".concat(e.id));t.value=t.value.filter((function(t){return t.id!==e.id}))}},postEscapeParser:function(t){return t.replace(/\n/g,"</br>")},settings:n}}}),_=(n(893),n(64)),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ComponentInfo",t._b({},"ComponentInfo",{component:t.component},!1)),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("h2",[t._v("Example")]),t._v(" "),n("KtI18nContext",{attrs:{locale:t.settings.locale}},[n("div",{staticClass:"element-example no-background"},[t._l(t.comments,(function(e){return n("KtComment",t._b({key:e.id,staticClass:"mb-block",attrs:{allowInternal:t.settings.allowInternal,dataTest:t.settings.dataTest,isReadOnly:t.settings.isReadOnly,tabIndex:t.settings.tabIndex,userAvatar:t.currentUser.avatar},on:{add:function(e){return t.handleAdd(e)},delete:function(e){return t.handleDelete(e)},edit:function(e){return t.handleEdit(e)}}},"KtComment",e,!1))})),t._v(" "),n("KtCommentInput",{attrs:{allowInternal:t.settings.allowInternal,dataTest:t.settings.dataTest,placeholder:t.settings.placeholder,tabIndex:t.settings.tabIndex,userAvatar:t.currentUser.avatar},on:{add:function(e){return t.handleAdd(e)}}})],2),t._v(" "),n("KtForm",{attrs:{size:"small"},model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}},[n("div",{staticClass:"wrapper"},[n("div",[n("h4",[t._v("Settings")]),t._v(" "),n("KtFieldSingleSelect",{attrs:{formKey:"locale",helpText:"Can be set via KtI18nContext",hideClear:"",label:"Language",leftIcon:"global",options:[{label:"German (de-DE)",value:"de-DE"},{label:"English (en-US)",value:"en-US"},{label:"Spanish (es-ES)",value:"es-ES"},{label:"French (fr-FR)",value:"fr-FR"},{label:"Japanese (ja-JP)",value:"ja-JP"}]}}),t._v(" "),n("KtFieldNumber",{attrs:{formKey:"tabIndex",isOptional:"",label:"tabIndex"}}),t._v(" "),n("KtFieldToggle",{attrs:{formKey:"allowInternal",helpText:"Allows Internal Comments i.e. Restricted access",isOptional:"",label:"allowInternal",type:"switch"}}),t._v(" "),n("KtFieldToggle",{attrs:{formKey:"isReadOnly",helpText:"Hides KtComment action buttons",isOptional:"",label:"isReadOnly",type:"switch"}})],1),t._v(" "),n("div",[n("h4",[t._v("Texts")]),t._v(" "),n("KtFieldText",{attrs:{formKey:"dataTest",isOptional:"",label:"dataTest"}}),t._v(" "),n("KtFieldText",{attrs:{formKey:"placeholder",isOptional:"",label:"placeholder"}})],1)])]),t._v(" "),n("pre",[n("code",[t._v('<KtComment\n\tv-for="comment in comments"\n\t:key="comment.id"\n\tv-bind="comment"\n\tallowInternal\n\tdataTest="comments"\n\t:isReadOnly="false"\n\t:tabIndex="1"\n\t:userAvatar="currentUser.avatar"\n\t@add="handleAdd($event)"\n\t@delete="handleDelete($event)"\n\t@edit="handleEdit($event)"\n/>\n<KtCommentInput\n\tallowInternal\n\tdataTest="comments"\n\tplaceholder="Add a comment"\n\t:tabIndex="1"\n\t:userAvatar="currentUser.avatar"\n\t@add="handleAdd($event)"\n/>\n')])]),t._v(" "),n("h2",[t._v("Usage")]),t._v(" "),n("h3",[t._v("Comment Object")]),t._v(" "),n("pre",[n("code",[t._v("{\n\tcreatedAt: '2018-12-04 09:57',\n\tid: 1,\n\tisDeletable: true,\n\tisEditable: true,\n\tisInternal: true,\n\tisModified: true,\n\tmessage: 'Comment message',\n\treplies: [\n\t\t{\n\t\t\tcreatedAt: '2018-12-04 09:57',\n\t\t\tid: 2,\n\t\t\tisDeletable: false,\n\t\t\tisEditable: false,\n\t\t\tisInternal: true,\n\t\t\tisModified: true,\n\t\t\tmessage: 'Reply message',\n\t\t\tuser: {\n\t\t\t\tavatar: 'https://picsum.photos/200',\n\t\t\t\tid: 102,\n\t\t\t\tname: 'User name',\n\t\t\t},\n\t\t},\n\t],\n\tuser: {\n\t\tavatar: 'https://picsum.photos/230',\n\t\tid: 101,\n\t\tname: 'User name',\n\t},\n}")])]),t._v(" "),n("h3",[t._v("Events")]),t._v(" "),n("table",[n("tr",[n("th",[t._v("Event Name")]),t._v(" "),n("th",[t._v("Component")]),t._v(" "),n("th",[t._v("Payload")]),t._v(" "),n("th",[t._v("Description")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("@add")])]),t._v(" "),n("td",[n("code",[t._v("KtComment")]),t._v(", "),n("code",[t._v("KtCommentInput")])]),t._v(" "),n("td",[n("pre",[n("code",[t._v("{\n\tisInternal?: boolean,\n\tmessage: string,\n\tparentId?: number | string,\n\treplyToUserId?: number | string,\n}")])])]),t._v(" "),n("td",[t._v("Add new comment")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("@delete")])]),t._v(" "),n("td",[n("code",[t._v("KtComment")])]),t._v(" "),n("td",[n("pre",[n("code",[t._v("{\n\tid: number | string,\n\tparentId?: number | string,\n}")])])]),t._v(" "),n("td",[t._v("Delete comment")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("@edit")])]),t._v(" "),n("td",[n("code",[t._v("KtComment")])]),t._v(" "),n("td",[n("pre",[n("code",[t._v("{\n\tid: number | string,\n\tisInternal?: boolean,\n\tmessage: string,\n\tparentId?: number | string,\n}")])])]),t._v(" "),n("td",[t._v("Edit comment")])])]),t._v(" "),n("h2",[t._v("Parsing HTML")]),t._v(" "),n("p",[t._v("\n\t\t\t\tKtComment will escape all tags by default but you can opt out and pass\n\t\t\t\tyour own parser by using the parser prop.\n\t\t\t")]),t._v(" "),n("blockquote",{attrs:{cite:"https://en.wikipedia.org/wiki/Cross-site_scripting"}},[t._v("\n\t\t\t\tRemember to "),n("b",[t._v("escape malicious tags")]),t._v(" to prevent\n\t\t\t\t"),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cross-site_scripting"}},[t._v("Cross-site-scripting")]),t._v("\n\t\t\t\tattacks, you can use KtComment's default parser function with\n\t\t\t\tKtComment.defaultParser.\n\t\t\t")]),t._v(" "),n("pre",[n("code",[t._v("methods: {\n\tdangerouslyOverrideParser: msg => escape(msg).replace(/\\n/g, '<br />'),\n\t// alternativly you could\n\tdangerouslyOverrideParser: msg => escape(msg),\n\tpostEscapeParser: msg => msg.replace(/\\n/g, '<br />'),\n\t// or just\n\tpostEscapeParser: msg => msg.replace(/\\n/g, '<br />'),\n}")])]),t._v(" "),n("div",{staticClass:"element-example no-background"},[t._l(t.comments,(function(e){return n("KtComment",t._b({key:e.id,staticClass:"mb-block",attrs:{allowInternal:t.settings.allowInternal,dangerouslyOverrideParser:t.dangerouslyOverrideParser,dataTest:t.settings.dataTest,isReadOnly:t.settings.isReadOnly,postEscapeParser:t.postEscapeParser,tabIndex:t.settings.tabIndex,userAvatar:t.currentUser.avatar},on:{add:function(e){return t.handleAdd(e)},delete:function(e){return t.handleDelete(e)},edit:function(e){return t.handleEdit(e)}}},"KtComment",e,!1))})),t._v(" "),n("KtCommentInput",{attrs:{allowInternal:t.settings.allowInternal,dataTest:t.settings.dataTest,placeholder:t.settings.placeholder,tabIndex:t.settings.tabIndex,userAvatar:t.currentUser.avatar},on:{add:function(e){return t.handleAdd(e)}}})],2)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n\t\t\tUse "),e("code",[this._v("KtComment")]),this._v(" to display a comment thread, a comment post and\n\t\t\tcomment replies. It allows adding new replies by clicking on the\n\t\t\t"),e("strong",[this._v("Reply")]),this._v("\n\t\t\tbutton.\n\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Use "),e("code",[this._v("KtCommentInput")]),this._v(" to input new comment posts.")])}],!1,null,"6045552e",null);e.default=component.exports},753:function(t,e,n){var content=n(894);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(113).default)("4d0f9d6a",content,!0,{sourceMap:!1})},884:function(t,e,n){var r=n(885),o=n(887),l=/[&<>"']/g,d=RegExp(l.source);t.exports=function(t){return(t=o(t))&&d.test(t)?t.replace(l,r):t}},885:function(t,e,n){var r=n(886)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},886:function(t,e){t.exports=function(object){return function(t){return null==object?void 0:object[t]}}},887:function(t,e,n){var r=n(888);t.exports=function(t){return null==t?"":r(t)}},888:function(t,e,n){var r=n(731),o=n(889),l=n(732),d=n(890),c=r?r.prototype:void 0,m=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(l(e))return o(e,t)+"";if(d(e))return m?m.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},889:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},890:function(t,e,n){var r=n(727),o=n(725);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},893:function(t,e,n){"use strict";var r=n(753);n.n(r).a},894:function(t,e,n){(e=n(112)(!1)).push([t.i,".table-style[data-v-6045552e],table[data-v-6045552e]{width:100%;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;table-layout:auto;border-collapse:collapse}.table-style .th-style[data-v-6045552e],.table-style th[data-v-6045552e],table .th-style[data-v-6045552e],table th[data-v-6045552e]{padding:var(--unit-2) var(--unit-1);font-size:.6rem;line-height:1em;color:#8f8f8f;text-align:inherit;text-transform:uppercase;border-bottom:.05rem solid #dbdbdb}.table-style .tr-style[data-v-6045552e],.table-style tr[data-v-6045552e],table .tr-style[data-v-6045552e],table tr[data-v-6045552e]{margin:0}.table-style .td-style[data-v-6045552e],.table-style td[data-v-6045552e],table .td-style[data-v-6045552e],table td[data-v-6045552e]{padding:var(--unit-2) var(--unit-1);line-height:1.2rem;border-bottom:1px solid #dbdbdb}.table-style i[data-v-6045552e],table i[data-v-6045552e]{margin:0 .2rem;font-size:1rem!important;color:#8a8a8a}.no-background[data-v-6045552e]{background:unset}",""]),t.exports=e}}]);