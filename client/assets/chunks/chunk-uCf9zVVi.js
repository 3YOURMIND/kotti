import{c as C}from"./chunk-xnFUk1ri.js";import{d as P,m as S,aG as j,s as k,_ as D,c,o as u,a2 as y,aO as l,aP as M,a as m,t as g}from"./chunk-BfwLKwyU.js";import{c as N}from"./chunk-cvdaDHmF.js";import{s as H}from"./chunk-BQnmGBDA.js";function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E(e,t,n){return t=L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=V(e,"string");return typeof t=="symbol"?t:String(t)}function V(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const B=v({});function v(e){return t.withOptions=n=>v(h(h({},e),n)),t;function t(n,...r){const a=typeof n=="string"?[n]:n.raw,{alignValues:$=!1,escapeSpecialCharacters:d=Array.isArray(n),trimWhitespace:w=!0}=e;let s="";for(let i=0;i<a.length;i++){let o=a[i];if(d&&(o=o.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),s+=o,i<r.length){const p=$?T(r[i],s):r[i];s+=p}}const b=s.split(`
`);let f=null;for(const i of b){const o=i.match(/^(\s+)\S+/);if(o){const p=o[1].length;f?f=Math.min(f,p):f=p}}if(f!==null){const i=f;s=b.map(o=>o[0]===" "||o[0]==="	"?o.slice(i):o).join(`
`)}return w&&(s=s.trim()),d&&(s=s.replace(/\\n/g,`
`)),s}}function T(e,t){if(typeof e!="string"||!e.includes(`
`))return e;const r=t.slice(t.lastIndexOf(`
`)+1).match(/^(\s+)/);if(r){const a=r[1];return e.replace(/\n/g,`
${a}`)}return e}const A=P({name:"CodePreview",props:{code:{default:null,type:String},fileName:{default:null,type:String},language:{required:!0,type:String},type:{default:"default",type:String}},setup(e){const t=S(null);return j(()=>e.code,async n=>{n!==null&&(t.value=await N(B(n),{lang:e.language,themes:{dark:"vitesse-dark",light:"vitesse-light"}}))},{immediate:!0}),{codeHtml:t,onCopy:()=>{e.code!==null&&(C(e.code),k({text:`copied “${e.code.slice(0,40)}...” to clipboard`}))}}}}),K={key:1,style:{"margin-bottom":"-1px"}},q=["textContent"],z=["textContent"],G=["textContent"],I=["innerHTML"];function U(e,t,n,r,a,$){return u(),c("div",{class:l([e.$style.wrapper,e.$style[`wrapper--is-type-${e.type}`]])},[e.$slots.default?(u(),c("section",{key:0,class:l(e.$style.example)},[M(e.$slots,"default")],2)):(u(),c("div",K)),e.code?(u(),c("div",{key:2,class:l(e.$style.actions)},[e.fileName?(u(),c("div",{key:0,class:l(e.$style["file-name"]),textContent:g(e.fileName)},null,10,q)):y("",!0),m("div",{class:l(e.$style.language),textContent:g(e.language)},null,10,z),e.type!=="default"?(u(),c("div",{key:1,class:l(e.$style.language),textContent:g(`(${e.type.toUpperCase()})`)},null,10,G)):y("",!0),m("div",{class:l(e.$style["copy-button"]),role:"button",onClick:t[0]||(t[0]=(...d)=>e.onCopy&&e.onCopy(...d))},[...t[1]||(t[1]=[m("i",{class:"yoco"},"copy",-1)])],2)],2)):y("",!0),e.code?(u(),c("div",{key:3,class:l(e.$style.code),innerHTML:e.codeHtml},null,10,I)):y("",!0)],2)}const W={$style:H},X=D(A,[["render",U],["__cssModules",W]]);export{X as C};
